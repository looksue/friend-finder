<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css"
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
    <title>F.F.S</title>
</head>

<body>
    <div class="container" id="surveyForm">
        <h1>Friend Finder Survey Questions</h1>
        <form>
            Name (Required):<br>
            <input type="text" name="name" id="name"><br>
            Link to Photo Image (Required):<br>
            <input type="text" name="photo" id="photo">
            <p>
                <h4>Complete the questions below by rating them on a scale of 1 to 5 (1 being least/totally disagree or
                    5 being the most/totally agree).</h4>
            </p>
            <div>
                <p>1. I prefer saving my money for a rainy day:</p>
                <input type="radio" name="score1" id="score1" value=1>1
                <input type="radio" name="score1" id="score1" value=2>2
                <input type="radio" name="score1" id="score1" value=3>3
                <input type="radio" name="score1" id="score1" value=4>4
                <input type="radio" name="score1" id="score1" value=5>5
                <p></p>
            </div>
            <div>
                <p>2. Animals are better than people:</p>
                <input type="radio" name="score2" id="score2" value=1>1
                <input type="radio" name="score2" id="score2" value=2>2
                <input type="radio" name="score2" id="score2" value=3>3
                <input type="radio" name="score2" id="score2" value=4>4
                <input type="radio" name="score2" id="score2" value=5>5
                <p></p>
            </div>
            <div>
                <p>3. My political views are supported by facts rather than emotions:</p>
                <input type="radio" name="score3" id="score3" value=1>1
                <input type="radio" name="score3" id="score3" value=2>2
                <input type="radio" name="score3" id="score3" value=3>3
                <input type="radio" name="score3" id="score3" value=4>4
                <input type="radio" name="score3" id="score3" value=5>5
                <p></p>
            </div>
            <div>
                <p>4. I'm always learning new things: </p>
                <input type="radio" name="score4" id="score4" value=1>1
                <input type="radio" name="score4" id="score4" value=2>2
                <input type="radio" name="score4" id="score4" value=3>3
                <input type="radio" name="score4" id="score4" value=4>4
                <input type="radio" name="score4" id="score4" value=5>5
                <p></p>
            </div>
            <div>
                <p>5. I enjoy sitting on the couch relaxing after a hard days work: </p>
                <input type="radio" name="score5" id="score5" value=1>1
                <input type="radio" name="score5" id="score5" value=2>2
                <input type="radio" name="score5" id="score5" value=3>3
                <input type="radio" name="score5" id="score5" value=4>4
                <input type="radio" name="score5" id="score5" value=5>5
                <p></p>
            </div>
            <div>
                <p>6. I enjoy being in nature:</p>
                <input type="radio" name="score6" id="score6" value=1>1
                <input type="radio" name="score6" id="score6" value=2>2
                <input type="radio" name="score6" id="score6" value=3>3
                <input type="radio" name="score6" id="score6" value=4>4
                <input type="radio" name="score6" id="score6" value=5>5
                <p></p>
            </div>
            <div>
                <p>7. I am capable of domestic chores (cooking, cleaning, yardwork, fixing things) and do them
                    fairly regularly:</p>
                <input type="radio" name="score7" id="score7" value=1>1
                <input type="radio" name="score7" id="score7" value=2>2
                <input type="radio" name="score7" id="score7" value=3>3
                <input type="radio" name="score7" id="score7" value=4>4
                <input type="radio" name="score7" id="score7" value=5>5
                <p></p>
            </div>
            <div>
                <p>8. When working on a project, I prefer to complete it myself rather than get help:</p>
                <input type="radio" name="score8" id="score8" value=1>1
                <input type="radio" name="score8" id="score8" value=2>2
                <input type="radio" name="score8" id="score8" value=3>3
                <input type="radio" name="score8" id="score8" value=4>4
                <input type="radio" name="score8" id="score8" value=5>5
                <p></p>
            </div>
            <div>
                <p>9. Religion is important to me:</p>
                <input type="radio" name="score9" id="score9" value=1>1
                <input type="radio" name="score9" id="score9" value=2>2
                <input type="radio" name="score9" id="score9" value=3>3
                <input type="radio" name="score9" id="score9" value=4>4
                <input type="radio" name="score9" id="score9" value=5>5
                <p></p>
            </div>
            <div>
                <p>10. My co-workers would say good things about me:</p>
                <input type="radio" name="score10" id="score10" value=1>1
                <input type="radio" name="score10" id="score10" value=2>2
                <input type="radio" name="score10" id="score10" value=3>3
                <input type="radio" name="score10" id="score10" value=4>4
                <input type="radio" name="score10" id="score10" value=5>5
                <p></p>
            </div>
            <button type="submit" id="btnSubmit" class="btn btn-primary submit">Submit</button>
            <p></p>
        </form>
    </div>

    <!-- bff Modal -->
    <div id="bffModal" class="modal">
        <div class="modal-content">
            <h4>BFF</h4>
            <div class="divider"></div>
            <h5 id="bffHeader"></h5>
            <img id="bffPhoto" class="materialboxed" width="650" src="">
        </div>
        <div class="modal-footer">
            <a href="/add" class="modal-action modal-close">Close</a>
        </div>
    </div>

    <script type="text/javascript">
        // post a new friend to the array
        $("#btnSubmit").on("click", function (event) {
            event.preventDefault();

            // Here we grab the form elements
            var newFriend = {
                name: $("#name").val().trim(),
                photo: $("#photo").val().trim(),
                scores: [
                    $("input:radio[name='score1']:checked").val().trim(),
                    $("input:radio[name='score2']:checked").val().trim(),
                    $("input:radio[name='score3']:checked").val().trim(),
                    $("input:radio[name='score4']:checked").val().trim(),
                    $("input:radio[name='score5']:checked").val().trim(),
                    $("input:radio[name='score6']:checked").val().trim(),
                    $("input:radio[name='score7']:checked").val().trim(),
                    $("input:radio[name='score8']:checked").val().trim(),
                    $("input:radio[name='score9']:checked").val().trim(),
                    $("input:radio[name='score10']:checked").val().trim()
                ]
            };

            // Send the array to our /api/friends URL using POST.
            $.post("/api/friends", newFriend)
                .then(function (data) {

                    //bff comes back as data
                    var bff = data;
                    var bffName = data.bffName;
                    var bffPhoto = data.bffPhoto;

                    //show bff name and bff photo in a modal
                    $("#bffName").html(bffName);
                    $("#bffPhoto").attr("src", bffPhoto);

                    // Pop open the modal dialog
                    $("#bffModal").modal("open");

                    // Clear the form after submitting
                    $("#name").val("");
                    $("#photo").val("");
                    $("#score1").val("");
                    $("#score2").val("");
                    $("#score3").val("");
                    $("#score4").val("");
                    $("#score5").val("");
                    $("#score6").val("");
                    $("#score7").val("");
                    $("#score8").val("");
                    $("#score9").val("");
                    $("#score10").val("");
                });
        });

    </script>
</body>

</html>